# 上文回顾



# 需求分析

商品准备好之后，我们就可以实现购买生成订单模块啦，那么我们在

# 购物车

## 开发梳理
购物车具体包含有哪些内容呢，我们来看看上图[9-1]中都包含有哪些元素？

- 商品图片
- 商品价格
- 名称
- 款式（SKU/规格）
- 数量
- 操作

如我们上述所说的，购物车的实现最少包含2种场景，一种登录/一种未登录。在未登录状态下，我们来看一下`jd`是如何实现的？

在图[9-1]中，我们为购物车加入了2件商品，我们可以在网站中点来点去，再回到购物车发现商品依然存在，那么它是怎么做到的呢？在当前页面点击`F12`，如图[9-2]  

![9-2](https://i.loli.net/2019/11/27/bqa51wnSxzZe23E.png)

选择`Application -> Cookies -> cart.jd.com`,可以看到自动生成了一个随机的`user-key`,如何我们给购物车中添加2件商品之后，会额外多出一个`cookie -> cart-main`,我们删除这两个cookie后刷新页面就会发现，当前购物车中的商品被清空了。

一旦我们登录系统之后，会进行一次后台请求，这个请求是一次购物车同步的过程，会把当前购物车中的数据与云端购物车数据进行合并。

我们的实现和它类似，只不过我们不会这么麻烦，如果未登录不会生成user-key,我们直接将数据存储在当前浏览器的名为`shopcart`的cookie中。

## 编码实现

搞清楚实现逻辑之后，我们就可以开始进行我们的编码实现了，首先我们要做的是将商品存储在浏览器cookie中，这一步我们可以交给前端实现，也可以在后端实现。（还是建议后端同学学习一下，不要张嘴闭嘴前后端分离，分离是公司的事，技术是自己的本事）

### DTO实现

### Custom Mapper实现

### Service实现

### Controller实现

### Test API

# 福利讲解
# 源码下载

[Github 传送门](https://github.com/Isaac-Zhang/expensive-shop)  
[Gitee 传送门](https://gitee.com/IsaacZhang/expensive-shop)

# 下节预告

下一节我们将继续开发商品详情展示以及商品评价业务，在过程中使用到的任何开发组件，我都会通过专门的一节来进行介绍的，兄弟们末慌！

gogogo！